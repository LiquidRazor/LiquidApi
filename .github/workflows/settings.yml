# Repository-level defaults
repository:
    description: ""
    homepage: ""
    topics: []
    private: false
    has_issues: true
    has_projects: false
    has_wiki: false
    has_downloads: true
    default_branch: main

    # Merge strategy
    allow_squash_merge: true
    allow_merge_commit: false
    allow_rebase_merge: false
    delete_branch_on_merge: true
    allow_auto_merge: true
    squash_merge_commit_title: PR_TITLE
    squash_merge_commit_message: PR_BODY

    # Security & Dependabot
    enable_automated_security_fixes: true
    enable_vulnerability_alerts: true

    # Branch rules below require the branches to exist at least once
    # (create 'dev' one time and you're set)

branches:
    - name: main
      protection:
          enforce_admins: true
          required_pull_request_reviews:
              required_approving_review_count: 1
              dismiss_stale_reviews: true
              require_code_owner_reviews: true   # flip to true if you use CODEOWNERS
          required_status_checks:
              strict: true
              contexts: []   # OPTIONAL: list required checks exactly as they appear in Checks UI
              # e.g. ["ci / build", "ci / test", "lint"]
          restrictions: null
          allow_deletions: false
          allow_force_pushes: false
          required_linear_history: true
          lock_branch: false
          required_conversation_resolution: true

    - name: dev
      protection:
          enforce_admins: true
          required_pull_request_reviews:
              required_approving_review_count: 1
              require_code_owner_reviews: true
              dismiss_stale_reviews: true
          required_status_checks:
              strict: false
              contexts: []   # you can require fewer or no checks on dev
          restrictions: null
          allow_deletions: false
          allow_force_pushes: false
          required_linear_history: true
          lock_branch: false
          required_conversation_resolution: true

# Optional: default labels for consistency across repos
labels:
    - name: bug
      color: d73a4a
      description: Something isn't working
    - name: enhancement
      color: a2eeef
      description: New feature or request
    - name: chore
      color: ededed
      description: Build, tooling, or refactor
    - name: docs
      color: 0075ca
      description: Documentation only changes
